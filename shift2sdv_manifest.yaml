apiVersion: v0.1
workloads:
  Ankaios_Dashboard:
    runtime: podman
    agent: agent_A
    restart: true
    updateStrategy: AT_LEAST_ONCE
    accessRights:
      allow: []
      deny: []
    restartPolicy: NEVER
    dependencies:
    runtimeConfig: |
      image: ghcr.io/felixmoelders/ankaios-dashboard:v0.3
      commandOptions: ["-p", "5001:5001", "-e", "PASSWORD=admin"]
    controlInterfaceAccess:
      allowRules:
        - type: StateRule
          operation: ReadWrite
          filterMask:
            - "desiredState"
            - "workloadStates"
  web_ivi:
    runtime: podman
    agent: hpc2
    restartPolicy: NEVER
    runtimeConfig: |
      image: ghcr.io/eclipse-sdv-hackathon-chapter-two/shift2sdv/web_ivi:latest
      commandOptions: [ "--net=host", "--ipc=host"]
  log_publisher_app:
    runtime: podman
    agent: hpc2
    restartPolicy: NEVER
    runtimeConfig: |
      image: ghcr.io/eclipse-sdv-hackathon-chapter-two/shift2sdv/log_publisher_app:latest
      commandOptions: [ "--net=host", "--ipc=host", "-e", "THRESHOLD_VALUE=2.25"]